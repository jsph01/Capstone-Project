<?php session_start(); include_once "Database.php";if (!isset($_POST['username']) || !isset($_POST['pwd'])) {    die("No User Id");}$username = $_POST['username'];$pwd = $_POST['pwd'];$dao = new Database(1);$user = $dao->json("SELECT * FROM users WHERE username = '$username' AND password='$pwd'");if ($user == null)    die("Invalid login");$_SESSION["webappUserId"] = $username;//header('Location: index.php');?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml">    <head>        <link rel='stylesheet' type='text/css' href='style.css'/>        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />        <meta name="HandheldFriendly" content="true">            <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=0">                <link href="style.css" rel="stylesheet" type="text/css" media="screen" />                <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>                <script src='scripts/ajax.js'></script>                <script type="text/javascript">                    var user = <?php echo $user; ?>;                    jQuery(document).ready(function () {                        loadUser(user);                    });                    function loadUser(u)                    {                        $("#userId").val(u[0].user_id);                        $("#userName").val(u[0].username);                        $("#lastName").val(u[0].lastname);                        $("#firstName").val(u[0].firstname);                        $("#email").val(u[0].email);                    }                    var userOk = true;                    function availUser(fld)                    {                        var val = fld.value;                        //alert(val);                        json("ajax.php?id=1&username=" + val, availUser_Callback);                    }                    function availUser_Callback(msg)                    {                        //alert(msg);                        if (msg === "Available") {                            userOk = true;                            $("#userOk").val("1");                            $("#userStatus").html("<font color='green'>" + msg + "</font>");                        } else {                            userOk = false;                            $("#userOk").val("0");                            $("#userStatus").html("<font color='red'>" + msg + "</font>");                            $("#userName").focus();                        }                    }                    function validateYear(fld)                    {                        var y = parseInt(fld.value);                        if (y > 1800 && y < 2011)                            return true;                        return true;                        //************      alert("Invalid Year");                        fld.focus();                        return true;                        //return;                    }                    function validateDay(fld)                    {                        var d = parseInt(fld.value);                        if (d > 0 && d < 29)                            return true;                        var m = document.frmAddUser.month.selectedIndex;                        switch (m) {                            case 3: // April                            case 5: // June                            case 8: // Sept.                            case 10: // Oct.                                if (d < 31)                                    return true;                                break;                            case 1:  // Feb.                                if (d < 29)                                    return true;                                else if (d > 29)                                    break;                                var y = document.frmAddUser.year.value;                                if (y % 4 == 0 && y != 2000)                                    return true;                                // Leap year?                                break;                            default: // All other months have 31 days.                                if (d < 32)                                    return true;                        }                        alert("Invalid Day");                        fld.focus();                        return;                    }                    function form_Submit(frm)                    {                        if (!validateDay(frm.day))                            return false;                        return true;                    }                    function form_Submit(frm)                    {                        if (!userOk)                        {                            alert("Invalid user name");                            return false;                        }                        return true;                    }                    function forgot()                    {                        var email = prompt("Enter email to retrieve account information:");                        if (email != null && email != "")                            json("ajax.php?id=11&username=" + email, forgot_Callback);                    }                    function forgot_Callback(msg)                    {                        alert(msg);                    }                </script>                <meta http-equiv="Content-Language" content="en-us" />                <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />                <style>                    .titleLeft{                        position:relative;                        left:10%;                        top:35px;                        color:white;                        font-size: xx-large;                        vertical-align: bottom;                    }                    li{                        font-size: x-large;                    }                    .titleRight{                        position:relative;                        left:55%;                        color:white;                    }                    .divTitle{                        position: absolute;                        left:5px;                        top:5px;                        padding: 10px;                    }                    .divLogo{                        position: absolute;                        left:10px;                        top:10px;                    }                    .divNewUserForm{                        position:relative;                        left: 65%;                    }                    .divContent{                        position: absolute;                        left:10px;                        top:180px;                        width:50%;                    }                    .forgot{                        color:white;                        position:relative;                        left: 240px;                      }                    a{color:white;}                    .divInput{                        height:25px;                    }                </style>                <title>Welcome to My Login</title>                </head>                <body style="background-color: white">                    <div class="wrapper">                        <div id="divLogin" class="divTitle">                            <h2 align="center">Welcome to My Calculator</h2>                        </div>		                        <div id="divAddUser" class="divNewUserForm">                            <form method="post" action="saveuser.php" name="frmAddUser" onsubmit="return form_Submit(this)">                                <input type="hidden" name="userOk" id="userOk" value="0"/>                                <input type="hidden" name="userId" id="userId" value="0"/>                                <h1>Sign up</h1><h3>It's free and easy.</h3>                                <div>                                    <div class='divInput'><input name="userName" id="userName" placeholder="User name" type="text" size="40" onblur="availUser(this)" /></div>                                    <div class='divInput'><input name="firstName" id="firstName" placeholder="First name" type="text" size="40" /></div>                                    <div class='divInput'><input name="lastName" id="lastName" placeholder="Last name" type="text" size="40"/></div>                                    <div class='divInput'><input name="email" id="email"  placeholder="Email" type="text" size="40" />                                        <div class='divInput'> <input name="password" type="password" placeholder="Password" size="30"/></div>                                    </div><br/><br/><hr/>                                    <input type="submit" value="Save Profile"/>                                    <a href='calc.php'><font color='black'>Calculator</font></a>                                </div>                                <br/><span id="userStatus"></span></div>                        </form>                    </div>                    </div>                </body>                </html>